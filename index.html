<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Thonsee Health - Accueil</title>
  <link rel="stylesheet" href="style.css" />
  <script defer src="compte.js"></script>
</head>

<body>
  <header class="tete">
        <!-- IcÃ´ne utilisateur -->
    <div class="user" onclick="toggleAccountsPopup()" style="cursor:pointer;">
  <a class="text-decoration" href="parametre.html"><div id="userIcon">ğŸ‘¤</div></a>
</div>
    <div class="logo">Thonsee <span>Health</span></div>
    <!-- Bouton menu burger pour mobile -->
<div class="menu-toggle" onclick="toggleMobileMenu()">â˜°</div>

  <!-- Menu principal -->
  <nav class="menu" id="mainMenu">
    <a href="index.html">Accueil</a>
    <a href="produits.html">Nos Produits</a>
    <a href="contact.html">Contact</a>
    <a href="panier.html">Panier <span id="cartCountNav">0</span></a>
    <a href="#" onclick="toggleLoginPopup()">Se connecter</a>
    <a href="#" onclick="toggleRegisterPopup()">S'inscrire</a>
  </nav>

  </header>


  <main>
    <!-- Section Accueil -->
    <section id="accueil" class="slogan">
      <h1 class="titre">Ã‰levez votre bien-Ãªtre au rang du luxe.</h1>
      <p class="slogan1">ComplÃ©ments alimentaires premium â€“ Naturels, efficaces, Ã©lÃ©gants.</p>
    </section>

    <!-- Section Blog -->
    <section id="blog" class="section">
      <h2>Blog SantÃ© & Bien-Ãªtre</h2>
      <p>
        Bienvenue sur notre blog dÃ©diÃ© au bien-Ãªtre et Ã  la santÃ© naturelle. Ici, nous partageons des conseils approfondis,
        des recettes naturelles et des astuces pour amÃ©liorer votre qualitÃ© de vie au quotidien. Chaque article est
        rÃ©digÃ© avec soin pour vous accompagner dans votre quÃªte dâ€™Ã©quilibre et de vitalitÃ©.
      </p>
      <p>
        Lâ€™importance dâ€™une alimentation saine, les vertus des plantes mÃ©dicinales, ou encore les derniÃ¨res recherches en
        nutrition sont autant de sujets que nous abordons rÃ©guliÃ¨rement. Nous croyons fermement que la santÃ© passe par
        une approche globale mÃªlant science et respect de la nature.
      </p>
      <p>
        Nâ€™hÃ©sitez pas Ã  parcourir nos articles pour dÃ©couvrir comment intÃ©grer facilement ces conseils dans votre routine,
        et vivre pleinement votre potentiel au naturel.
      </p>
      <p>
        En plus, nous mettons Ã  disposition des guides pratiques pour choisir les meilleurs complÃ©ments alimentaires,
        comprendre leurs effets, et Ã©viter les idÃ©es reÃ§ues. Votre bien-Ãªtre est notre prioritÃ©, et notre blog est lÃ  pour
        vous Ã©clairer sur chaque Ã©tape de votre parcours.
      </p>
    </section>

    <!-- Section TÃ©moignages -->
    <section id="temoignages" class="section">
      <h2>TÃ©moignages</h2>
      <p>
        Â« Depuis que jâ€™utilise les complÃ©ments Thonsee Health, jâ€™ai ressenti un regain dâ€™Ã©nergie incroyable. Leur qualitÃ© est
        irrÃ©prochable et le service client est toujours Ã  lâ€™Ã©coute. Â» â€“ Marie L.
      </p>
      <p>
        Â« Des produits dâ€™une puretÃ© exceptionnelle, alliant efficacitÃ© et plaisir dâ€™utilisation. Je recommande vivement Ã 
        tous ceux qui veulent prendre soin dâ€™eux naturellement. Â» â€“ Julien P.
      </p>
      <p>
        Â« Ce que jâ€™apprÃ©cie le plus, câ€™est la transparence de la marque. On sait exactement ce quâ€™on ingÃ¨re, et Ã§a fait
        toute la diffÃ©rence dans ma confiance et ma fidÃ©litÃ©. Â» â€“ Sophie M.
      </p>
      <p>
        Â« GrÃ¢ce Ã  Thonsee Health, jâ€™ai rÃ©ussi Ã  amÃ©liorer ma digestion et mon sommeil sans effets secondaires. Une vraie
        rÃ©vÃ©lation ! Â» â€“ Ahmed K.
      </p>
    </section>

    <!-- Section Science -->
    <section id="science" class="section">
      <h2>La Science derriÃ¨re Thonsee Health</h2>
      <p>
        Chez Thonsee Health, la recherche scientifique est au cÅ“ur de nos dÃ©veloppements. Chaque ingrÃ©dient est sÃ©lectionnÃ©
        selon des critÃ¨res rigoureux basÃ©s sur des Ã©tudes cliniques et des preuves scientifiques solides.
      </p>
      <p>
        Notre Ã©quipe collabore avec des experts en nutrition, biologie et pharmacologie pour formuler des complÃ©ments
        qui optimisent votre santÃ© sans compromis. Nous testons Ã©galement la biodisponibilitÃ© de chaque substance afin
        d'assurer une absorption maximale.
      </p>
      <p>
        La transparence est primordiale : toutes nos formules sont documentÃ©es et soumises Ã  des contrÃ´les qualitÃ©
        stricts. Nous Ã©vitons les additifs superflus, privilÃ©gions les sources naturelles et traÃ§ons chaque lot de
        production.
      </p>
      <p>
        Cette approche scientifique et responsable garantit des produits haut de gamme, efficaces et sÃ»rs, qui rÃ©pondent
        aux attentes des consommateurs exigeants et soucieux de leur santÃ©.
      </p>
    </section>

    <!-- Section Ã€ propos -->
    <section id="apropos" class="section">
      <h2>Ã€ propos de Thonsee Health</h2>
      <p>
        Thonsee Health est nÃ©e dâ€™une passion commune pour la santÃ© naturelle et le luxe discret. Notre mission est de
        proposer des complÃ©ments alimentaires dâ€™exception, qui allient puretÃ©, efficacitÃ© et esthÃ©tique.
      </p>
      <p>
        FondÃ©e par une Ã©quipe de spÃ©cialistes engagÃ©s, la marque sâ€™appuie sur des valeurs fortes : respect de lâ€™environnement,
        transparence totale, et quÃªte dâ€™innovation. Chaque produit est le fruit dâ€™un travail rigoureux pour vous offrir
        une expÃ©rience unique.
      </p>
      <p>
        Nous croyons en une approche holistique du bien-Ãªtre, oÃ¹ science et nature cohabitent harmonieusement pour
        rÃ©vÃ©ler le meilleur de vous-mÃªme. Rejoignez-nous dans cette aventure vers une santÃ© plus belle, plus saine,
        plus luxueuse.
      </p>
      <p>
        Merci de faire confiance Ã  Thonsee Health.
      </p>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 Thonsee Health. Tous droits rÃ©servÃ©s.</p>
  </footer>

<!-- Pop-up Inscription -->
<div id="registerPopup" class="popup hidden">
  <div class="popup-content">
    <span class="close-btn" onclick="toggleRegisterPopup()">&times;</span>
    <h2>Inscription</h2>
    <form id="registerForm" autocomplete="on">
      <input
        type="text"
        id="registerUsername"
        name="username"
        placeholder="Nom d'utilisateur"
        maxlength="15"
        autocomplete="username"
        required
      />
      <input
        type="password"
        id="registerPassword"
        name="password"
        placeholder="Mot de passe"
        maxlength="12"
        autocomplete="new-password"
        required
      />
      <button type="submit">CrÃ©er un compte</button>
    </form>
    <div id="registerMessage" style="color: rgb(255, 255, 255);"></div>
  </div>
</div>

<!-- Pop-up Connexion -->
<div id="loginPopup" class="popup hidden">
  <div class="popup-content">
    <span class="close-btn" onclick="toggleLoginPopup()">&times;</span>
    <h2>Connexion</h2>
    <form id="loginForm" autocomplete="on">
      <input
        list="usernames"
        type="text"
        id="loginUsername"
        name="username"
        placeholder="Nom d'utilisateur"
        maxlength="15"
        autocomplete="username"
        required
      />
      <datalist id="usernames"></datalist>
      <input
        type="password"
        id="loginPassword"
        name="password"
        placeholder="Mot de passe"
        maxlength="12"
        autocomplete="current-password"
        required
      />
      <button type="submit">Se connecter</button>
    </form>
    <div id="loginMessage" style="color: rgb(255, 255, 255);"></div>
  </div>
</div>

</body>

  <script>
function ajouterAuPanier(button) {
  const produitDiv = button.closest('.produit');

  const nom = produitDiv.getAttribute('data-nom');
  const prix = parseFloat(produitDiv.getAttribute('data-prix'));
  const imgElem = produitDiv.querySelector('img');
  const imageUrl = imgElem ? imgElem.src : '';

  const currentUser = localStorage.getItem('currentUser');
  if (!currentUser) {
    alert("Vous devez Ãªtre connectÃ© pour ajouter au panier.");
    return;
  }

  // Panier spÃ©cifique Ã  l'utilisateur
  let panier = JSON.parse(localStorage.getItem(`cart_${currentUser}`)) || [];

  const produitExistant = panier.find(item => item.nom === nom);

  if (produitExistant) {
    produitExistant.quantite++;
  } else {
    panier.push({ nom: nom, prix: prix, quantite: 1, imageUrl: imageUrl });
  }

  localStorage.setItem(`cart_${currentUser}`, JSON.stringify(panier));

  updateCartCount();
  alert(`${nom} a Ã©tÃ© ajoutÃ© au panier !`);
}

function getCart() {
  const currentUser = localStorage.getItem('currentUser');
  if (!currentUser) return [];
  return JSON.parse(localStorage.getItem(`cart_${currentUser}`)) || [];
}

function updateCartCount() {
  const cart = getCart();
  const totalQuantity = cart.reduce((sum, item) => sum + (item.quantite || 0), 0);
  const countElem = document.getElementById('cartCountNav');
  if (!countElem) return;

  if (totalQuantity > 0) {
    countElem.style.display = 'inline';
    countElem.textContent = totalQuantity;
  } else {
    countElem.style.display = 'none';
  }
}

// Affiche le nom d'utilisateur ou "Non connectÃ©"
function afficherNomUtilisateur() {
  const currentUser = localStorage.getItem('currentUser');
  const userNameDiv = document.getElementById('userName');

  if (userNameDiv) {
    userNameDiv.textContent = currentUser ? currentUser : "Non connectÃ©";
  }
}

window.addEventListener('DOMContentLoaded', () => {
  updateCartCount();
  afficherNomUtilisateur();
});
</script>


<script>
  // AppelÃ© au chargement de chaque page
  window.addEventListener('DOMContentLoaded', updateCartCount);
</script>

<!-- notif panier -->

<script>
async function majNotifCommandes() {
  const userName = localStorage.getItem("currentUser");
  const notifElem = document.getElementById("notifCommande");

  if (!userName || !notifElem) return;

  try {
    const res = await fetch("http://localhost:3000/api/commandes");
    if (!res.ok) throw new Error("Erreur API");

    const commandes = await res.json();
    const commandesUser = commandes.filter(cmd => cmd.utilisateur === userName);

    if (commandesUser.length > 0) {
      notifElem.textContent = commandesUser.length;
      notifElem.style.display = "inline-block";
    } else {
      notifElem.style.display = "none";
    }
  } catch (err) {
    console.error("Erreur chargement commandes :", err.message);
  }
}

window.addEventListener('DOMContentLoaded', majNotifCommandes);

  const MAX_USERNAME_LENGTH = 15;
  const MAX_PASSWORD_LENGTH = 12;

  // === Formulaire Inscription ===
  const usernameInput = document.getElementById('registerUsername');
  const passwordInput = document.getElementById('registerPassword');
  const registerMessage = document.getElementById('registerMessage');

  if (usernameInput && passwordInput && registerMessage) {
    usernameInput.addEventListener('input', () => {
      if (usernameInput.value.length > MAX_USERNAME_LENGTH) {
        registerMessage.textContent = `Nom d'utilisateur trop long (max ${MAX_USERNAME_LENGTH} caractÃ¨res)`;
        usernameInput.value = usernameInput.value.slice(0, MAX_USERNAME_LENGTH);
      } else {
        registerMessage.textContent = "";
      }
    });

    passwordInput.addEventListener('input', () => {
      if (passwordInput.value.length > MAX_PASSWORD_LENGTH) {
        registerMessage.textContent = `Mot de passe trop long (max ${MAX_PASSWORD_LENGTH} caractÃ¨res)`;
        passwordInput.value = passwordInput.value.slice(0, MAX_PASSWORD_LENGTH);
      } else {
        registerMessage.textContent = "";
      }
    });
  }

  // === Formulaire Connexion ===
  document.addEventListener("DOMContentLoaded", () => {
    const loginForm = document.getElementById("loginForm");
    const loginUsername = document.getElementById("loginUsername");
    const loginPassword = document.getElementById("loginPassword");
    const loginMessage = document.getElementById("loginMessage");

    if (!loginForm) return;

    loginForm.addEventListener("submit", function (e) {
      const username = loginUsername.value.trim();
      const password = loginPassword.value.trim();

      if (username.length > MAX_USERNAME_LENGTH) {
        e.preventDefault();
        loginMessage.textContent = `Le nom d'utilisateur ne peut pas dÃ©passer ${MAX_USERNAME_LENGTH} caractÃ¨res.`;
        return;
      }

      if (password.length > MAX_PASSWORD_LENGTH) {
        e.preventDefault();
        loginMessage.textContent = `Le mot de passe ne peut pas dÃ©passer ${MAX_PASSWORD_LENGTH} caractÃ¨res.`;
        return;
      }

      loginMessage.textContent = "";
    });
  });


</script>


</html>

